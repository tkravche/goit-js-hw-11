{"mappings":"AAIA,MAEMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,SACxCE,aAAcH,SAASC,cAAc,UACrCG,QAASJ,SAASC,cAAc,YAChCI,WAAYL,SAASC,cAAc,gBAIrCH,EAAKC,WAAWO,iBAAiB,UAGjC,SAA4BC,GAGzB,GAFDA,EAAEC,iBACFC,EAAgBF,EAAEG,cAAcC,SAASC,YAAYC,OAC/CJ,EACJ,OAAOK,MAAM,kCAEfC,MACE,qEAAgCN,+EAE/BO,MAAKC,GAAeA,EAAYC,SAChCF,MAAKG,IAAYC,EAAuBD,IAqD7C,SAA0BE,GACtB,MAAMC,EAAcC,KAAKC,KAAKH,EA9ElB,GAgFd,IAAK,IAAII,EAAI,EAAGA,GAAKH,EAAaG,IAAI,CACpC,MAAMC,EAAY1B,SAAS2B,cAAc,MACzCD,EAAUE,YAAcH,EACxB3B,EAAKO,WAAWwB,OAAOH,GACvBA,EAAUpB,iBAAiB,QAASwB,E,EA5DkDC,CAAlBZ,EAAOE,UAAsC,IAChHW,OAAOC,GAAUC,QAAQC,IAAI,aAAcF,I,IAZhD,IAAIxB,EAAgB,GA8CpB,SAASW,EAAuBD,IAJhC,SAAsBiB,GACpBtC,EAAKM,QAAQiC,mBAAmB,YAAaD,E,CAO7CE,CAHoBnB,EAAOoB,KACxBC,KAAIC,GAjCT,UAA+BC,aAC7BA,EAAYC,KACZA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,IAEA,MAAO,yCACKL,WAAsBC,0FAGlBC,+DAGAC,kEAGGC,mEAGCC,mC,CAYJC,CAAsBP,KACnCQ,KAAK,I,CAMV,SAASnB,GAAgBoB,QAAUtB,YAAauB,EAAO,KACrDpC,MACE,qEAAgCN,qBAA0C0C,6DAEzEnC,MAAKC,GAAeA,EAAYC,SAChCF,MAAKG,IAAYrB,EAAKM,QAAQgD,UAAY,GAAIhC,EAAuBD,EAAO,IAC5Ea,OAAOC,GAAUC,QAAQC,IAAI,aAAcF,I","sources":["src/js/fetch.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '34754697-0d2595d46a3257cdf22f20f5a';\n\nlet page = 1;\nconst perPage = 5;\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  inputSearchForm: document.querySelector('input'),\n  searchButton: document.querySelector('button'),\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.pagination'),\n\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n\nlet searchedImage = '';\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  searchedImage = e.currentTarget.elements.searchQuery.value;\n   if (!searchedImage) {\n    return alert('Enter the valid query, please.');\n  }\n  fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchedImage}&per_page=${perPage}&page=${page}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(foundImages => foundImages.json())\n    .then(photos => { createPhotoCardGallery(photos); const totalHits = photos.totalHits; createPagination(totalHits); })\n    .catch((error) => console.log('error :>> ', error));\n}\n\nfunction createPhotoCardMarkup({\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>`;\n}\n\nfunction addToGallery(template) {\n  refs.gallery.insertAdjacentHTML('beforeend', template);\n}\n\nfunction createPhotoCardGallery(photos) {\n     const template = photos.hits\n    .map(photo => createPhotoCardMarkup(photo))\n    .join('');\n  addToGallery(template);\n \n\n}\n\nfunction getPhotosPage({ target: { textContent: page = 1 } }) {\n  fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchedImage}&per_page=${perPage}&page=${page}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(foundImages => foundImages.json())\n    .then(photos => { refs.gallery.innerHTML = ''; createPhotoCardGallery(photos)})\n    .catch((error) => console.log('error :>> ', error));\n}\n\nfunction createPagination(totalHits) {\n    const pagesNumber = Math.ceil(totalHits / perPage);\n  \n  for (let i = 1; i <= pagesNumber; i++){\n    const pagesList = document.createElement('li');\n    pagesList.textContent = i;\n    refs.pagination.append(pagesList);\n    pagesList.addEventListener('click', getPhotosPage)\n  }\n}"],"names":["$924b66e829bc1184$var$refs","searchForm","document","querySelector","inputSearchForm","searchButton","gallery","pagination","addEventListener","e","preventDefault","$924b66e829bc1184$var$searchedImage","currentTarget","elements","searchQuery","value","alert","fetch","then","foundImages","json","photos","$924b66e829bc1184$var$createPhotoCardGallery","totalHits","pagesNumber","Math","ceil","i","pagesList","createElement","textContent","append","$924b66e829bc1184$var$getPhotosPage","$924b66e829bc1184$var$createPagination","catch","error","console","log","template","insertAdjacentHTML","$924b66e829bc1184$var$addToGallery","hits","map","photo","webformatURL","tags","likes","views","comments","downloads","$924b66e829bc1184$var$createPhotoCardMarkup","join","target","page1","innerHTML"],"version":3,"file":"index.881f80f2.js.map"}
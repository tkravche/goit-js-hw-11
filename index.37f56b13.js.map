{"mappings":"YAAA,IAAMA,EAAW,2BACXC,EAAU,qCAKVC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,gBAAiBF,SAASC,cAAc,SACxCE,aAAcH,SAASC,cAAc,UACrCG,QAASJ,SAASC,cAAc,YAChCI,WAAYL,SAASC,cAAc,gBAIrCH,EAAKC,WAAWO,iBAAiB,UAGjC,SAA4BC,GAGzB,GAFDA,EAAEC,mBACFC,EAAgBF,EAAEG,cAAcC,SAASC,YAAYC,OAEnD,OAAOC,MAAM,kCAEfC,MACE,GAAmBC,OAAhBpB,EAAS,SAAoBoB,OAAbnB,EAAQ,OAA+BmB,OAA1BP,EAAc,cAA4BO,OArB9D,EAqBsD,UAAaA,OAtBxE,EAsBwE,6DAE9EC,MAAK,SAAAC,G,OAAeA,EAAYC,M,IAChCF,MAAK,SAAAG,GAAYC,EAAuBD,GAqD7C,SAA0BE,GAGxB,IAFE,IAAMC,EAAcC,KAAKC,KAAKH,EA9ElB,GAgFLI,EAAI,EAAGA,GAAKH,EAAaG,IAAI,CACpC,IAAMC,EAAY3B,SAAS4B,cAAc,MACzCD,EAAUE,YAAcH,EACxB5B,EAAKO,WAAWyB,OAAOH,GACvBA,EAAUrB,iBAAiB,QAASyB,E,EA5DkDC,CAAlBZ,EAAOE,U,IAC1EW,OAAM,SAACC,G,OAAUC,QAAQC,IAAI,aAAcF,E,OAZhD,IAAIzB,EAAgB,GA8CpB,SAASY,EAAuBD,IAJhC,SAAsBiB,GACpBvC,EAAKM,QAAQkC,mBAAmB,YAAaD,E,CAO7CE,CAHoBnB,EAAOoB,KACxBC,KAAI,SAAAC,G,OAhCPC,GAD6BC,EAiCSF,GAhCtCC,aACAE,EAF6BD,EAE7BC,KACAC,EAH6BF,EAG7BE,MACAC,EAJ6BH,EAI7BG,MACAC,EAL6BJ,EAK7BI,SACAC,EAN6BL,EAM7BK,UAEO,yCAC2BjC,OAAtB2B,EAAa,WAGT3B,OAHkB6B,EAAK,0FAMvB7B,OAHA8B,EAAM,+DAMH9B,OAHH+B,EAAM,kEAMF/B,OAHDgC,EAAS,mEAGEhC,OAAViC,EAAU,oCArBhC,IAA+BL,EAC7BD,EACAE,EACAC,EACAC,EACAC,EACAC,C,IA4BGC,KAAK,I,CAMV,SAASnB,EAAca,G,IAAyBO,EAAzBP,EAAEQ,OAAUvB,YAAawB,OAAQ,IAARF,EAAO,EAAPA,EAC9CpC,MACE,GAAmBC,OAAhBpB,EAAS,SAAoBoB,OAAbnB,EAAQ,OAA+BmB,OAA1BP,EAAc,cAA4BO,OAtE9D,EAsEsD,UAAaA,OAALqC,EAAK,6DAE9EpC,MAAK,SAAAC,G,OAAeA,EAAYC,M,IAChCF,MAAK,SAAAG,GAAYtB,EAAKM,QAAQkD,UAAY,GAAIjC,EAAuBD,E,IACrEa,OAAM,SAACC,G,OAAUC,QAAQC,IAAI,aAAcF,E","sources":["src/js/fetch.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '34754697-0d2595d46a3257cdf22f20f5a';\n\nlet page = 1;\nconst perPage = 5;\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  inputSearchForm: document.querySelector('input'),\n  searchButton: document.querySelector('button'),\n  gallery: document.querySelector('.gallery'),\n  pagination: document.querySelector('.pagination'),\n\n};\n\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\n\nlet searchedImage = '';\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  searchedImage = e.currentTarget.elements.searchQuery.value;\n   if (!searchedImage) {\n    return alert('Enter the valid query, please.');\n  }\n  fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchedImage}&per_page=${perPage}&page=${page}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(foundImages => foundImages.json())\n    .then(photos => { createPhotoCardGallery(photos); const totalHits = photos.totalHits; createPagination(totalHits); })\n    .catch((error) => console.log('error :>> ', error));\n}\n\nfunction createPhotoCardMarkup({\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>`;\n}\n\nfunction addToGallery(template) {\n  refs.gallery.insertAdjacentHTML('beforeend', template);\n}\n\nfunction createPhotoCardGallery(photos) {\n     const template = photos.hits\n    .map(photo => createPhotoCardMarkup(photo))\n    .join('');\n  addToGallery(template);\n \n\n}\n\nfunction getPhotosPage({ target: { textContent: page = 1 } }) {\n  fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${searchedImage}&per_page=${perPage}&page=${page}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(foundImages => foundImages.json())\n    .then(photos => { refs.gallery.innerHTML = ''; createPhotoCardGallery(photos)})\n    .catch((error) => console.log('error :>> ', error));\n}\n\nfunction createPagination(totalHits) {\n    const pagesNumber = Math.ceil(totalHits / perPage);\n  \n  for (let i = 1; i <= pagesNumber; i++){\n    const pagesList = document.createElement('li');\n    pagesList.textContent = i;\n    refs.pagination.append(pagesList);\n    pagesList.addEventListener('click', getPhotosPage)\n  }\n}"],"names":["$3d3e7ba3cf1cf643$var$BASE_URL","$3d3e7ba3cf1cf643$var$API_KEY","$3d3e7ba3cf1cf643$var$refs","searchForm","document","querySelector","inputSearchForm","searchButton","gallery","pagination","addEventListener","e","preventDefault","$3d3e7ba3cf1cf643$var$searchedImage","currentTarget","elements","searchQuery","value","alert","fetch","concat","then","foundImages","json","photos","$3d3e7ba3cf1cf643$var$createPhotoCardGallery","totalHits","pagesNumber","Math","ceil","i","pagesList","createElement","textContent","append","$3d3e7ba3cf1cf643$var$getPhotosPage","$3d3e7ba3cf1cf643$var$createPagination","catch","error","console","log","template","insertAdjacentHTML","$3d3e7ba3cf1cf643$var$addToGallery","hits","map","photo","webformatURL","param","tags","likes","views","comments","downloads","join","tmp","target","page1","innerHTML"],"version":3,"file":"index.37f56b13.js.map"}